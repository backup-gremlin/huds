/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /gh/willmyerscode/tabs@5.0.23/tabs.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
class wmTabs{static pluginTitle="wmTabs";static isEditModeEventListenerSet=!1;static defaultSettings={tabImages:!1,tabButtonTag:"h4",tabLimit:!1,updateUrl:!1,setInitialUrl:!1,triggerEvent:"click",stickyNav:!1,stickyNavThrottle:100,stickyNavOffset:17,scrollBackOffset:150,scrollBackBehavior:"auto",overflowIndicatorAction:"scroll",swipeThreshold:50,dragStartThreshold:10,slideTransitionDuration:300,allowClickAndDrag:!1,allowTouchSwipe:!1,accordionIcon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">\n      <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 6.75 12 3m0 0 3.75 3.75M12 3v18" />\n    </svg>',overflowIndicatorStart:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">\n      <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 9-3 3m0 0 3 3m-3-3h7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />\n    </svg>',overflowIndicatorEnd:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">\n      <path stroke-linecap="round" stroke-linejoin="round" d="m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />\n    </svg>',selectButtonIcon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">\n      <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />\n    </svg>',scrollTolerance:3,scrollTabActivateTolerance:50,centerActiveTab:!1,breakpoints:{0:{navigationType:"select"},767:{navigationType:"horizontal"}},isSectionsAdjusted:!1,hooks:{beforeInit:[],afterInit:[function(){wm$?.initializeAllPlugins()}],beforeOpenTab:[],afterOpenTab:[]},disableAutoScroll:!1};static get userSettings(){return window[wmTabs.pluginTitle+"Settings"]||{}}constructor(t){t.dataset.loadingState||(t.dataset.loadingState="loading",this.el=t,this.source=t.dataset.source,this.el.parentElement.closest(`[data-wm-plugin="tabs"][data-source="${this.source}"]`)?console.error("Recursive tabs plugin detected"):(this.loadingState="building",this.installationMethod,this.source&&(this.installationMethod="source"),this.el.querySelector("button")&&(this.installationMethod="sections"),this.settings=wm$.deepMerge({},wmTabs.defaultSettings,wmTabs.userSettings,this.instanceSettings),this.items,this.type,this.tabs=[],this._navigaitonType="",this.tweaks=Static.SQUARESPACE_CONTEXT.tweakJSON,this.hasAccordionInBreakpoints=Object.values(this.settings.breakpoints).some((t=>"accordion"===t.navigationType)),this.hasSelectInBreakpoints=Object.values(this.settings.breakpoints).some((t=>"select"===t.navigationType)),this.init()))}async init(){if(this.runHooks("beforeInit"),this.el.dataset.navigationType=this.getNavigationType(),this.buildStructure(),this.source){const{items:t,type:e}=await wm$.collectionData(this.source);this.items=t,this.type=e;const s="number"==typeof this.settings.tabLimit?Math.min(this.settings.tabLimit,t.length):t.length;this.tabs=t.slice(0,s).map((t=>({item:t}))),this.injectHTML()}else this.moveFromTargets(),this.settings.isSectionsAdjusted&&this.addEditModeObserver();async function t(){const t=document.querySelector("#sections"),e=document.querySelector("#sections > section:last-child .content-wrapper");let s=this.el.parentNode,i=!1;t?.contains(this.el)?wm$?.reloadSquarespaceLifecycle(this.el):(e?.appendChild(this.el),i=!0,await(wm$?.reloadSquarespaceLifecycle(this.el)),window.dispatchEvent(new Event("resize")));try{"function"==typeof wm$.initializeCodeBlocks&&await wm$.initializeCodeBlocks(this.el),"function"==typeof wm$.initializeEmbedBlocks&&await wm$.initializeEmbedBlocks(this.el),"function"==typeof wm$.initializeThirdPartyPlugins&&await wm$.initializeThirdPartyPlugins(this.el),"function"==typeof wm$.handleAddingMissingColorTheme&&await wm$.handleAddingMissingColorTheme()}catch(t){console.error("Error during initialization:",t)}i&&s.appendChild(this.el),wm$?.emitEvent(`${wmTabs.pluginTitle}:ready`),this.loadingState="complete"}this.setStyles(),this.setIsNavMaxWidth(),this.bindEvents(),this.handleTabsNavigationIndicatorsDisplay(),this.setNavWidth(),this.activeTab=this.tabs[this.getInitialTabIndex()],this.openTab(this.activeTab.id),this.setActiveIndicator(),this.removeGlobalAnimations(),this.el.dataset.loadingState="loaded","loading"===document.readyState?document.addEventListener("DOMContentLoaded",(async()=>{await t.call(this)})):await t.call(this),this.setNavWidth(),this.setActiveIndicator(),window.setTimeout((()=>{this.setTabHeights(),this.removeGlobalAnimations()}),650),this.runHooks("afterInit")}bindEvents(){this.addTabClickEvent(),this.addTabsResizeEvent(),this.tabs[0].selectItem&&this.addSelectEvents(),this.addTabNavigationScrollEvent(),this.addTabNavigationClickEvent(),this.addStickyNavScrollEvent(),this.addNextAndPrevTabButtonEvents(),this.addClickAndDragSwipeEvent(),this.hasAccordionInBreakpoints&&this.addAccordionButtonClickEvent(),this.el.addEventListener("click",(t=>{t.target.closest(".tab-panel")&&this.setTabHeights()}))}buildStructure(){for(this.elements={},this.el.classList.add("wm-tabs"),this.el.dataset.overrideInitialGlobalAnimation="true",this.initialInnerEl=document.createDocumentFragment();this.el.firstChild;)this.initialInnerEl.appendChild(this.el.firstChild);const t=document.createElement("div");t.classList.add("tabs-wrapper"),this.elements.wrapper=t;const e=document.createElement("div");e.classList.add("tabs-header"),this.elements.header=e;const s=document.createElement("nav");s.setAttribute("role","tablist"),this.elements.nav=s;const i=document.createElement("div");i.classList.add("nav-container"),this.elements.navContainer=i,i.appendChild(s);const n=document.createElement("div"),a=document.createElement("span");if(n.classList.add("indicator-track"),a.classList.add("active-indicator"),n.appendChild(a),this.elements.indicatorTrack=n,this.elements.activeIndicator=a,this.elements.nav.appendChild(n),this.hasSelectInBreakpoints){const e=document.createElement("div");e.classList.add("select-navigation-container"),this.elements.selectNavigationContainer=e;const s=document.createElement("div");s.classList.add("select-navigation"),this.elements.selectNavigation=s,e.appendChild(s);const i=document.createElement("div");i.classList.add("select-button-container");const n=document.createElement("button");this.elements.selectButton=n;const a=document.createElement("span");a.innerText="Options",this.elements.selectButtonText=a;const o=document.createElement("div");o.classList.add("select-items-container");const l=document.createElement("div");l.classList.add("select-items-wrapper"),this.elements.selectItemsWrapper=l,s.appendChild(i),i.appendChild(n),n.appendChild(a),n.insertAdjacentHTML("beforeend",this.settings.selectButtonIcon),o.appendChild(l),s.appendChild(o),t.appendChild(e)}const o=document.createElement("div");this.elements.scrollIndicatorContainer=o,o.classList="scroll-indicator-container";const l=document.createElement("button");this.elements.indicatorStart=l,l.classList="scroll-indicator indicator-start",l.innerHTML=this.settings.overflowIndicatorStart;const r=document.createElement("button");this.elements.indicatorEnd=r,r.classList="scroll-indicator indicator-end",r.innerHTML=this.settings.overflowIndicatorEnd,o.appendChild(l),o.appendChild(r);const c=document.createElement("div");c.classList.add("tabs-content"),this.elements.tabsContent=c;const d=document.createElement("div");d.classList.add("tabs-content-wrapper"),this.elements.tabsContentWrapper=d,e.append(o),e.appendChild(i),t.appendChild(e),t.appendChild(c),c.appendChild(d),this.el.innerHTML="",this.el.dataset.navigationIndicators="none",this.el.appendChild(t)}injectHTML(){const t=document.createDocumentFragment(),e=document.createDocumentFragment();this.tabs.forEach((s=>{const i=s.item,n=document.createElement("article");n.classList.add("tab-panel"),n.setAttribute("role","tabpanel"),n.setAttribute("aria-hidden","true");const a=document.createElement("div");if(a.classList.add("tab-content"),"portfolio"===this.type){const t=document.createElement("div");t.innerHTML=i.body;const e=t.querySelector("#sections");for(;e.firstChild;)a.appendChild(e.firstChild)}else a.innerHTML=i.body;n.appendChild(a),t.appendChild(n),s.panel=n,s.content=a;const o=document.createElement("button");o.setAttribute("role","tab"),o.setAttribute("aria-controls",n.id),o.setAttribute("aria-selected","false");const l=i.title;if(s.innerText=i.title,this.settings.tabImages&&(o.innerHTML=`<div class="tab-button-image"><span class="img-spacer"></span><img src="${i.assetUrl}" width="150" height="150"/></div>`),o.innerHTML+=`<${this.settings.tabButtonTag} class="tab-title">${l}</${this.settings.tagButtonTag}>`,e.appendChild(o),s.button=o,s.id=this.getHashValueFromText(s.innerText),o.dataset.id=s.id,this.hasAccordionInBreakpoints){const t=o.cloneNode(!0);t.classList.add("accordion-dropdown");const e=document.createElement("span");e.classList.add("wm-icon"),e.innerHTML=this.settings.accordionIcon,t.appendChild(e),n.prepend(t),s.accordionButton=t}if(this.hasSelectInBreakpoints){const t=document.createElement("button");t.classList.add("select-item"),t.innerText=l,this.elements.selectItemsWrapper.append(t),s.selectItem=t}})),this.elements.tabsContentWrapper.appendChild(t),this.elements.nav.appendChild(e),this.el.style.setProperty("--tabs-count",this.tabs.length)}moveFromTargets(){const t=document.createDocumentFragment(),e=document.createDocumentFragment();this.initialInnerEl.querySelectorAll("button").forEach((s=>{const i={},n=s,a=this.el.closest(".page-section");if(!s.dataset.target){let t=a.nextElementSibling;for(;t&&(!t.matches(".page-section")||t.classList.contains("placeholder"));)t=t.nextElementSibling;t?s.dataset.target=`#sections > section[data-section-id="${t.dataset.sectionId}"].page-section`:console.warn("No valid next section found for button:",s)}let o;s.dataset.target?.includes("/")?o="":(this.settings.isSectionsAdjusted=!0,o=document.querySelectorAll(s.dataset.target));const l=document.createElement("article");l.classList.add("tab-panel"),l.setAttribute("role","tabpanel"),l.setAttribute("aria-hidden","true");const r=document.createElement("div");r.classList.add("tab-content"),wmTabs.originalPositions||(wmTabs.originalPositions=new Map),o.forEach((t=>{const e=document.createElement("div");e.classList.add("placeholder"),t.parentNode.insertBefore(e,t),wmTabs.originalPositions.set(t,{originalParent:t.parentNode,placeholder:e}),r.appendChild(t)})),l.appendChild(r),t.appendChild(l),i.panel=l,i.content=r,e.appendChild(n),i.button=n,i.innerText=n.innerText,i.id=this.getHashValueFromText(i.innerText),n.dataset.id=i.id,n.setAttribute("role","tab"),n.setAttribute("aria-controls",l.id),n.setAttribute("aria-selected","false");if(Array.from(n.childNodes).forEach((t=>{if(t.nodeType===Node.TEXT_NODE&&""!==t.nodeValue.trim()){const e=document.createElement(this.settings.tabButtonTag);e.classList.add("tab-title"),e.textContent=t.nodeValue,n.replaceChild(e,t),i.innerText=t.nodeValue}else if(t.nodeType===Node.ELEMENT_NODE&&"img"===t.tagName.toLowerCase()){const e=document.createElement("div");e.classList.add("tab-button-image"),e.append(t),n.replaceChild(e,t)}})),this.hasAccordionInBreakpoints){const t=n.cloneNode(!0);t.classList.add("accordion-dropdown");const e=document.createElement("span");e.classList.add("wm-icon"),e.innerHTML=this.settings.accordionIcon,t.appendChild(e),l.prepend(t),i.accordionButton=t}if(this.hasSelectInBreakpoints){const t=document.createElement("button");t.classList.add("select-item"),t.innerText=i.innerText,this.elements.selectItemsWrapper.append(t),i.selectItem=t}this.tabs.push(i)})),this.elements.tabsContentWrapper.appendChild(t),this.elements.nav.appendChild(e),this.el.style.setProperty("--tabs-count",this.tabs.length)}addStickyNavScrollEvent(){if(this.settings.stickyNav){this.elements.pageHeader=document.querySelector("#header"),this.el.style.setProperty("--top-offset",this.settings.stickyNavOffset+"px");const t=()=>{const t=this.el.getBoundingClientRect();if("true"===this.tweaks["tweak-fixed-header"]){const e=this.elements.pageHeader?.getBoundingClientRect().bottom||0,s=this.settings.stickyNavOffset+e;t.top<=s?this.el.classList.add("is-sticky"):this.el.classList.remove("is-sticky"),this.el.style.setProperty("--nav-sticky-offset",e+"px")}else t.top<=this.settings.stickyNavOffset?this.el.classList.add("is-sticky"):this.el.classList.remove("is-sticky"),this.el.style.setProperty("--nav-sticky-offset","0px")};let e=!1;const s=()=>{e||(e=!0,requestAnimationFrame((()=>{t(),e=!1})))};window.addEventListener("scroll",s),t()}}scrollBackToTop(){const t=this.el.getBoundingClientRect();if(t.top<=0){const e=window.scrollY+t.top-this.settings.scrollBackOffset,s="smooth"===this.settings.scrollBackBehavior?"smooth":"auto";window.scrollTo({top:e,behavior:s})}}getHashValueFromText(t){const e=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9_-]/g,"-");let s=encodeURIComponent(e.trim().toLowerCase()),i=0,n=s;for(;document.querySelector(`button[data-id="${n}"]`);)i++,n=`${s}-${i}`;return n}getInitialTabIndex(){const t=this.tabs.findIndex((t=>window.location.hash===function(t){const e=t.replace(/[^a-zA-Z0-9_-]/g,"-");return"#"+encodeURIComponent(e.trim().toLowerCase())}(t.innerText)));let e;if(-1!==t){e=t;const s=this.el.getBoundingClientRect(),i=window.scrollY+s.top-this.settings.scrollBackOffset,n="smooth";window.scrollTo({top:i,behavior:n})}else e=0;return e}addTabClickEvent(){const t=t=>{const e=t.id;this.openTab(e)};this.tabs.forEach((e=>{e.button.addEventListener("click",(()=>{t(e)})),e.button.addEventListener("keydown",(s=>{"Enter"===s.key||" "===s.key?(s.preventDefault(),t(e)):"ArrowRight"===s.key?(s.preventDefault(),this.focusNextTab()):"ArrowLeft"===s.key?(s.preventDefault(),this.focusPreviousTab()):"Tab"===s.key&&(s.shiftKey||(s.preventDefault(),this.focusFirstTabbableElementOrNextTab(e)))})),"hover"===this.settings.triggerEvent&&e.button.addEventListener("mouseenter",(()=>{t(e)}))}))}setActiveIndicator(){const t=this.activeTab.button,e=t.offsetWidth,s=t.offsetHeight-1,i=t.offsetLeft,n=t.offsetTop+.5,a=window.getComputedStyle(this.elements.nav).paddingInlineStart,o=window.getComputedStyle(this.elements.nav).paddingBlockStart;this.el.style.setProperty("--tab-button-active-width",e+"px"),this.el.style.setProperty("--tab-button-active-left",i-parseInt(a)+"px"),this.el.style.setProperty("--tab-button-active-top",n-parseInt(o)+"px"),this.el.style.setProperty("--tab-button-active-height",s+"px")}addSelectEvents(){const t=t=>{const e=t.id;this.openTab(e)};this.tabs.forEach((e=>{e.selectItem.addEventListener("click",(()=>{t(e)}))})),this.elements.selectNavigation.addEventListener("click",(t=>{this.elements.selectNavigation.classList.toggle("open")}))}addTabNavigationScrollEvent(){const t=wm$.throttle((()=>{this.handleTabsNavigationIndicatorsDisplay()}),250);this.elements.nav.addEventListener("scroll",t)}addTabNavigationClickEvent(){this.elements.indicatorStart.addEventListener("click",(()=>{"move"===this.settings.overflowIndicatorAction?this.prevTab():this.moveTabsNavigation(-50)})),this.elements.indicatorEnd.addEventListener("click",(()=>{"move"===this.settings.overflowIndicatorAction?this.nextTab():this.moveTabsNavigation(50)}))}handleTabsNavigationIndicatorsDisplay(){const t=this.elements.nav;let e="none";if("horizontal"===this.navigationType){const s=t.scrollWidth-this.settings.scrollTolerance,i=t.clientWidth,n=t.scrollLeft-this.settings.scrollTolerance,a=n+i+this.settings.scrollTolerance;s>i?(n>0&&(e="start"),a<s&&(e="end"),n>0&&a<s&&(e="both")):s<=i&&(e="none")}if("vertical"===this.navigationType){const s=t.scrollHeight-this.settings.scrollTolerance,i=t.clientHeight,n=t.scrollTop-this.settings.scrollTolerance,a=n+i+this.settings.scrollTolerance;s>i?(n>0&&(e="start"),a<s&&(e="end"),n>0&&a<s&&(e="both")):s<=i&&(e="none")}this.el.dataset.navigationIndicators=e}moveTabsNavigation(t){if("horizontal"===this.navigationType){const e=this.elements.nav.scrollLeft+this.elements.nav.clientWidth*(t/100);this.elements.nav.scrollTo({left:e,behavior:"smooth"})}else if("vertical"===this.navigationType){const e=this.elements.nav.scrollTop+this.elements.nav.clientHeight*(t/100);this.elements.nav.scrollTo({top:e,behavior:"smooth"})}}scrollTabIntoView(){if(this.settings.disableAutoScroll)return;const t=this.settings.scrollTabActivateTolerance,e=this.elements.nav,s=this.activeTab.button;if("horizontal"===this.navigationType){const i=s.offsetLeft,n=s.clientWidth,a=i+n,o=e.scrollLeft,l=e.clientWidth,r=o+l;if(this.settings.centerActiveTab){const t=(i+n/2-(o+l/2))/l*100;this.moveTabsNavigation(t)}else o>=i-t?this.moveTabsNavigation(-35):r<=a+t&&this.moveTabsNavigation(35)}else if("vertical"===this.navigationType){const i=s.offsetTop,n=s.clientHeight,a=i+n,o=e.scrollTop,l=e.clientHeight,r=o+l;if(this.settings.centerActiveTab){const t=(i+n/2-(o+l/2))/l*100;this.moveTabsNavigation(t)}else o>=i-t?this.moveTabsNavigation(-35):r<=a+t&&this.moveTabsNavigation(35)}}addAccordionButtonClickEvent(){const t=t=>{this.activeTab=t,this.tabs.forEach((e=>{e===t?(e.accordionButton.classList.add("active"),e.button.classList.add("active"),e.panel.classList.add("active"),e.panel.style.transform="translateX(0px)",e.content.style.height=e.content.scrollHeight+"px",e.content.style.maxHeight=""):(e.active=!1,e.accordionButton.classList.remove("active"),e.button.classList.remove("active"),e.panel.classList.remove("active"),e.content.style.height="0px",e.content.style.maxHeight="0px")})),this.setTabHeights()};this.tabs.forEach((e=>{e.accordionButton.addEventListener("click",(()=>{t(e)}))}))}addTabsResizeEvent(){const t=wm$.throttle((()=>{this.tabsOffset=this.activeTab.panel.offsetLeft,this.navigationType=this.getNavigationType(),this.setNavWidth(),this.setIsNavMaxWidth(),this.setActiveIndicator(),this.setTabHeights(),this.scrollTabIntoView(),this.handleTabsNavigationIndicatorsDisplay()}),250);window.addEventListener("resize",t)}addClickAndDragSwipeEvent(){const t=this.elements.tabsContentWrapper;let e=!1,s=0,i=0,n=0,a=0,o=!1;const l=this.settings.slideTransitionDuration,r=this.settings.dragStartThreshold;function c(e){t.style.transform=`translateX(${e}px)`}function d(l){l.target.closest("img, button, a")&&l.type.includes("mouse")||l.target.closest("a, button")&&l.type.includes("touch")||(e=!0,s=m(l),i=u(l),a=-1*this.tabsOffset,n=a,t.classList.add("dragging"),o=!1)}function h(l){if(e){const d=m(l),h=u(l),p=d-s,v=h-i;if(!o&&Math.abs(p)<r)return;if(!o&&(o=Math.abs(p)>Math.abs(v),!o))return e=!1,void t.classList.remove("dragging");l.preventDefault(),n=a+p,c(n)}}function p(){if(!e)return;cancelAnimationFrame(undefined),e=!1;const s=n-a,i=this.settings.swipeThreshold||20;s<-i?(t.style.transition=`transform ${l}ms ease`,this.activeTab!==this.tabs[this.tabs.length-1]?this.nextTab():(n=a,c(n)),window.setTimeout((()=>{t.style.transition="",t.classList.remove("dragging")}),l)):s>i?(t.style.transition=`transform ${l}ms ease`,this.activeTab!==this.tabs[0]?this.prevTab():(n=a,c(n)),window.setTimeout((()=>{t.style.transition="",t.classList.remove("dragging")}),l)):(t.style.transition=`transform ${l}ms ease`,n=a,c(n),window.setTimeout((()=>{t.style.transition="",t.classList.remove("dragging")}),l))}function m(t){return t.type.includes("mouse")?t.pageX:t.touches[0].clientX}function u(t){return t.type.includes("mouse")?t.pageY:t.touches[0].clientY}this.settings.allowTouchSwipe&&(t.addEventListener("touchstart",d.bind(this)),t.addEventListener("touchmove",h.bind(this)),t.addEventListener("touchend",p.bind(this))),this.settings.allowClickAndDrag&&(t.addEventListener("mousedown",d.bind(this)),t.addEventListener("mousemove",h.bind(this)),t.addEventListener("mouseup",p.bind(this)),t.addEventListener("mouseleave",p.bind(this)))}getNavigationType(){const{breakpoints:t}=this.settings,e=window.innerWidth;let s=t[0].navigationType;for(const i in t)e>=i&&(s=t[i].navigationType);return this.navigationType=s,s}setNavigationType(t){this.el.dataset.navigationType=t,"complete"===this.loadingState&&("accordion"===t&&(this.tabs.forEach((t=>t.panel.style.transform="initial")),this.elements.tabsContentWrapper.style.height="",this.elements.tabsContentWrapper.style.transform=""),"tab"===t&&this.tabs.forEach((t=>{t.content.style.height="",t.content.style.maxHeight=""})))}setTabHeights(){const t=()=>{this.elements.tabsContentWrapper.style.height=this.activeTab.content.clientHeight+"px",this.el.parentElement.closest('[data-wm-plugin="tabs"]')&&this.el.parentElement.closest('[data-wm-plugin="tabs"]')?.wmTabs?.setTabHeights()};"horizontal"!==this.navigationType&&"vertical"!==this.navigationType&&"select"!==this.navigationType||(t(),window.setTimeout((()=>{t()}),650))}setStyles(){const t=this.el.closest("section.page-section"),e=getComputedStyle(t),s={"--wm-accent-hsl":"--primaryButtonBackgroundColor","--wm-accent-inverse-hsl":"--primaryButtonTextColor","--wm-background-hsl":"--siteBackgroundColor","--wm-text-hsl":"--paragraphMediumColor"},i=t=>{const e=t.match(/hsla?\(([\d.]+),\s*([\d.]+)%,\s*([\d.]+)%/);return e?`${e[1]},${e[2]}%,${e[3]}%`:""};for(const[t,n]of Object.entries(s)){const s=i(e.getPropertyValue(n));this.el.style.setProperty(t,s)}}setUrlHash(t){location.hash=t}setNavWidth(){this.elements.nav.style.setProperty("--nav-scroll-width","0px"),this.elements.nav.style.setProperty("--nav-scroll-height","0px"),requestAnimationFrame((()=>{this.navWidth=this.elements.nav.scrollWidth-1,this.navHeight=this.elements.nav.scrollHeight-1}))}setIsNavMaxWidth(){!function(t){const e=t.getBoundingClientRect(),s=window.innerWidth||document.documentElement.clientWidth;return Math.abs(e.width-s)<=3}(this.el)?this.el.classList.remove("full-width"):this.el.classList.add("full-width")}addNextAndPrevTabButtonEvents(){const t=t=>{t.preventDefault(),t.stopPropagation(),this.nextTab()},e=t=>{t.preventDefault(),t.stopPropagation(),this.prevTab()};this.el.querySelectorAll('a[href="#next_tab"]').forEach((e=>{e.setAttribute("href","javascript:void(0)"),e.addEventListener("click",t,{once:!0}),e.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||(t(e),this.activeTab.button.focus())}))})),this.el.querySelectorAll('a[href="#prev_tab"]').forEach((t=>{t.setAttribute("href","javascript:void(0)"),t.addEventListener("click",e,{once:!0}),t.addEventListener("keydown",(t=>{"Enter"!==t.key&&" "!==t.key||(e(t),this.activeTab.button.focus())}))}))}pauseAllVideos(){this.el.querySelectorAll(".sqs-block-video").forEach((t=>{t.$wmPause&&t.$wmPause()}))}nextTab(){const t=(this.tabs.findIndex((t=>t.id===this.activeTab.id))+1)%this.tabs.length;this.openTab(this.tabs[t].id)}prevTab(){const t=(this.tabs.findIndex((t=>t.id===this.activeTab.id))-1+this.tabs.length)%this.tabs.length;this.openTab(this.tabs[t].id)}openTab(t){this.runHooks("beforeOpenTab",t);const e=this.tabs.filter((e=>e.id===t))[0];e||console.debug("No Tab!"),this.activeTab=e,this.tabs.forEach((t=>{t===e?(t.button?.classList.add("active"),t.button?.setAttribute("aria-selected","true"),t.panel.setAttribute("aria-hidden","false"),t.panel.classList.add("active"),t.selectItem?.classList.add("active"),this.elements.selectButtonText&&(this.elements.selectButtonText.innerText=t.innerText),this.setTabHeights()):(t.active=!1,t.button?.classList.remove("active"),t.button?.setAttribute("aria-selected","false"),t.panel.setAttribute("aria-hidden","true"),t.panel.classList.remove("active"),t.selectItem?.classList.remove("active"))})),this.settings.updateUrl&&this.settings.setInitialUrl&&this.setUrlHash(this.activeTab.id),this.settings.setInitialUrl=!0,this.pauseAllVideos(),this.scrollTabIntoView(),this.scrollBackToTop(),this.setActiveIndicator(),this.tabsOffset=this.activeTab.panel.offsetLeft,this.activeTab.panel.focus(),this.runHooks("afterOpenTab",t)}focusNextTab(){const t=this.getFocusedTabIndex();if(-1!==t){const e=(t+1)%this.tabs.length;this.tabs[e].button.focus()}}focusPreviousTab(){const t=this.getFocusedTabIndex();if(-1!==t){const e=(t-1+this.tabs.length)%this.tabs.length;this.tabs[e].button.focus()}}getFocusedTabIndex(){return this.tabs.findIndex((t=>t.button===document.activeElement))}focusFirstTabbableElementOrNextTab(t){const e=t.panel,s=this.tabs.findIndex((e=>e===t)),i=e.querySelectorAll('a, button, input, textarea, select, [tabindex]:not([tabindex="-1"])');i.length>0?i[0].focus():this.focusNextTabFromIndex(s)}focusNextTabFromIndex(t){const e=(t+1)%this.tabs.length;this.tabs[e].button.focus()}removeGlobalAnimations(){let t=this.el.querySelectorAll(".slideIn, .fadeIn, .scaleIn, .flexIn, .preFade, .preScale, .preFlex, .preSlide");t=this.el.querySelectorAll(".tabs-header .tab-title");const e=["slideIn","fadeIn","scaleIn","flexIn","preFade","preScale","preFlex","preSlide"];t.forEach((t=>{t.setAttribute("data-override-initial-global-animation",""),t.removeAttribute("data-animation-role"),t.classList.remove(...e),t.style.transitionTimingFunction="",t.style.transitionDelay="",t.style.transitionDuration=""}))}addEditModeObserver(){const t=window.self!==window.top;if(wmTabs.isEditModeEventListenerSet||!t)return;let e=!1;const s=new MutationObserver((async t=>{for(const i of t)if("class"===i.attributeName){if(document.body.classList.contains("sqs-edit-mode-active")&&!e&&wmTabs.originalPositions){e=!0,wmTabs.originalPositions.forEach(((t,e)=>{e.remove()})),wmTabs.originalPositions.clear();try{await wm$.reloadSquarespaceLifecycle()}catch(t){console.error("Error reloading Squarespace lifecycle:",t)}s.disconnect()}}}));s.observe(document.body,{attributes:!0}),wmTabs.isEditModeEventListenerSet=!0}runHooks(t,...e){(this.settings.hooks[t]||[]).forEach((t=>{"function"==typeof t&&t.apply(this,e)}))}get contentHeight(){return this._contentHeight}set contentHeight(t){this._contentHeight=t}get navigationType(){return this._navigationType}set navigationType(t){this._navigationType=t,this.setNavigationType(t)}get activeTab(){return this.tabs.filter((t=>t.active))[0]}set activeTab(t){this.tabs.forEach((e=>{e.active=t===e}))}get instanceSettings(){const t={};this.el.dataset.desktopNavigationType&&(this.el.dataset.breakpoints__767__navigationType=this.el.dataset.desktopNavigationType),this.el.dataset.mobileNavigationType&&(this.el.dataset.breakpoints__0__navigationType=this.el.dataset.mobileNavigationType);const e=(t,e,s)=>{const i=e.split("__");let n=t;i.forEach(((t,e)=>{e===i.length-1?n[t]=wm$.parseAttr(s):n=n[t]=n[t]||{}}))};for(let[s,i]of Object.entries(this.el.dataset))e(t,s,i);return t}get tabsOffset(){return this._overflowTabsOffset}set tabsOffset(t){requestAnimationFrame((()=>{this._overflowTabsOffset=t,this.elements.tabsContentWrapper.style.transform=`translateX(${-1*t}px)`}))}get loadingState(){return this._loadingState}set loadingState(t){this._loadingState=t}get navWidth(){return this._navWidth}set navWidth(t){this._navWidth=t,this.elements.nav.style.setProperty("--nav-scroll-width",this._navWidth+"px")}get navHeight(){return this._navHeight}set navHeight(t){this._navHeight=t,this.elements.nav.style.setProperty("--nav-scroll-height",this._navHeight+"px")}}window.wmTabs={init:()=>function(){const t=document.querySelectorAll('[data-wm-plugin="tabs"]');t.length&&t.forEach((t=>t.wmTabs=new wmTabs(t)))}()},window.wmTabs.init();
//# sourceMappingURL=/sm/2eed0f848152d17e5e7f1b1183acc3b5a2cc19a786f1f9b6ca6a946044d1fb8c.map